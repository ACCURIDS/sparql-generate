PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
PREFIX ex: <http://www.example.com/> 
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> 
PREFIX transit: <http://vocab.org/transit/terms/> 
PREFIX wgs84_pos: <http://www.w3.org/2003/01/geo/wgs84_pos#>
PREFIX schema: <http://schema.org/>
PREFIX gn: <http://www.geonames.org/ontology#>
PREFIX geosp: <http://www.telegraphis.net/ontology/geography/geography#> 
PREFIX rqg-fn: <http://w3id.org/sparql-generate/fn/>
PREFIX rqg-sel: <http://w3id.org/sparql-generate/sel/>

GENERATE {

  ?cityiri a schema:City ;
    wgs84_pos:lat ?lat ;
    wgs84_pos:long ?long ;
    geosp:onContinent ?continent ;
    gn:countryCode ?country .

} WHERE {

 BIND( rqg-sel:JSONPath( ?item, "$.city") AS ?city )
 BIND( IRI( CONCAT( "http://loc.example.com/city/", ?city ) ) AS ?cityiri )
 BIND( rqg-sel:JSONPath( ?item, "$.venue.latitude") AS ?lat )
 BIND( rqg-sel:JSONPath( ?item, "$.venue.longitude") AS ?long )
 BIND( rqg-sel:JSONPath( ?item, "$.continent") AS ?continent )

} SELECTOR rqg-sel:JSONPath( ?items , "$.[*]" ) AS ?item
SOURCE <http://example.org/example4/Venue4.json> as ?items
