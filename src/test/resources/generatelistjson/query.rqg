BASE <http://example.org/> 
PREFIX ite: <http://w3id.org/sparql-generate/ite/>
PREFIX fn: <http://w3id.org/sparql-generate/fn/>
PREFIX country:<http://loc.example.com/city/>
PREFIX schema: <http://schema.org/>
PREFIX wgs84_pos: <http://www.w3.org/2003/01/geo/wgs84_pos#>
PREFIX gn: <http://www.geonames.org/ontology#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
GENERATE { 
    ?this1 rdf:first ?att1;rdf:rest ?rest1 .
    
}
SOURCE <http://example.com/list.json> AS ?source
ITERATOR ite:JSONElement(?source,"$.att[*]") AS ?key
WHERE {
    BIND(xsd:decimal(fn:JSONPath(?key, "$.position" )) AS ?position)
    BIND(xsd:boolean(fn:JSONPath(?key, "$.hasNext" )) AS ?hasNext)
    BIND(fn:JSONPath(?key, "$.element.att1" ) AS ?att1)
    BIND (CONCAT("e_",STR(?position)) as ?id)
    BIND( BNODE(?id) AS ?this1 )
    BIND( STR( ?position + 1) as ?nextPosition)
    BIND( IF( true = ?hasNext , BNODE( CONCAT( "e_1_" ,  ?nextPosition) ) , rdf:nil ) AS ?rest1 )
}